System.register(["./p-f0dd3588.system.js","./p-2e76ca07.system.js","./p-36ce9e87.system.js","./p-2adccdb7.system.js"],(function(e){"use strict";var r,t,o,i,n;return{setters:[function(e){r=e.r;t=e.h;o=e.H},function(){},function(e){i=e.i},function(e){n=e.g}],execute:function(){var l=".sc-peculiar-fortify-enrollment-form-h{-webkit-box-sizing:border-box;box-sizing:border-box}.sc-peculiar-fortify-enrollment-form-h *.sc-peculiar-fortify-enrollment-form,.sc-peculiar-fortify-enrollment-form-h *.sc-peculiar-fortify-enrollment-form:before,.sc-peculiar-fortify-enrollment-form-h *.sc-peculiar-fortify-enrollment-form:after{-webkit-box-sizing:inherit;box-sizing:inherit}.sc-peculiar-fortify-enrollment-form-h{display:block;height:100%;overflow:auto}.group.sc-peculiar-fortify-enrollment-form{padding:32px 20px 22px 20px;border-width:0px 0px 1px 0px}.container.sc-peculiar-fortify-enrollment-form{margin:10px -10px 0}.controls.sc-peculiar-fortify-enrollment-form{text-align:right;margin-top:30px}";var c=e("peculiar_fortify_enrollment_form",function(){function e(e){var t=this;r(this,e);this.providers=[];this.onSubmit=function(e){e.preventDefault();t.ponSubmit({provider:t.providerForm.fields,subject:t.subjectForm.fields,publicKey:t.publicKeyForm.fields,options:t.optionsForm.fields})};this.onChange=function(e){if(e.name==="provider"){t.providerForm=e}if(e.name==="subject"){t.subjectForm=e}if(e.name==="publicKey"){t.publicKeyForm=e}if(e.name==="options"){t.optionsForm=e}}}e.prototype.isFormValid=function(){if(!this.providerForm||!this.subjectForm||!this.publicKeyForm||!this.optionsForm){return false}var e=true;if(this.providerForm&&!this.providerForm.valid){e=false}if(this.subjectForm&&!this.subjectForm.valid){e=false}if(this.publicKeyForm&&!this.publicKeyForm.valid){e=false}if(this.optionsForm&&!this.optionsForm.valid){e=false}return e};e.prototype.render=function(){var e=this.isFormValid();return t(o,null,t("peculiar-fortify-box",{stroke:"grey_3",class:"title"},t("peculiar-fortify-typography",{type:"h4"},n("enrollment.title"))),t("form",{onSubmit:this.onSubmit},t("peculiar-fortify-box",{stroke:"grey_2",class:"group"},t("peculiar-fortify-typography",{type:"h7",uppercase:true},n("enrollment.provider.title")),t("peculiar-fortify-enrollment-form-provider",{class:"container",providers:this.providers,ponChange:this.onChange})),t("peculiar-fortify-box",{stroke:"grey_2",class:"group"},t("peculiar-fortify-typography",{type:"h7",uppercase:true},n("enrollment.subject.title")),t("peculiar-fortify-enrollment-form-subject",{class:"container",ponChange:this.onChange})),t("peculiar-fortify-box",{stroke:"grey_2",class:"group"},t("peculiar-fortify-typography",{type:"h7",uppercase:true},n("enrollment.publicKey.title")),t("peculiar-fortify-enrollment-form-public-key",{class:"container",ponChange:this.onChange})),t("peculiar-fortify-box",{stroke:"grey_2",class:"group"},t("peculiar-fortify-typography",{type:"h7",uppercase:true},n("enrollment.options.title")),t("peculiar-fortify-enrollment-form-options",{class:"container",ponChange:this.onChange})),t("div",{class:"controls"},t("peculiar-fortify-button-group",null,t("peculiar-fortify-button",{onClick:this.ponCancel},n("actions.cancel")),t("peculiar-fortify-button",{bgType:"fill",color:"secondary",colorText:"light",type:"submit",disabled:!e},n("actions.create"))))))};return e}());c.style=l;var s=".sc-peculiar-fortify-enrollment-rejected-h{-webkit-box-sizing:border-box;box-sizing:border-box}.sc-peculiar-fortify-enrollment-rejected-h *.sc-peculiar-fortify-enrollment-rejected,.sc-peculiar-fortify-enrollment-rejected-h *.sc-peculiar-fortify-enrollment-rejected:before,.sc-peculiar-fortify-enrollment-rejected-h *.sc-peculiar-fortify-enrollment-rejected:after{-webkit-box-sizing:inherit;box-sizing:inherit}.sc-peculiar-fortify-enrollment-rejected-h{width:100%;display:block;height:100%}";var a=e("peculiar_fortify_enrollment_rejected",function(){function e(e){r(this,e)}e.prototype.render=function(){return t(o,null,t("peculiar-fortify-layout",{type:"message",titleValue:n("enrollment.error.title"),descriptionValue:n("If you want to try again click the button below")},t("peculiar-fortify-button",{onClick:this.ponCancel},n("actions.cancel")),t("peculiar-fortify-button",{bgType:"fill",color:"secondary",colorText:"light",onClick:this.ponAccept},n("actions.tryAgain"))))};return e}());a.style=s;
/**
             * @license
             * Copyright (c) Peculiar Ventures, LLC.
             *
             * This source code is licensed under the BSD 3-Clause license found in the
             * LICENSE file in the root directory of this source tree.
             */var f=function(){function e(){}e.formatHex=function(e){return e.replace(/(.{32})/g,"$1\n").replace(/(.{4})/g,"$1 ").trim()};e.formatBase64=function(e){return e.replace(/(.{64})/g,"$1\n")};return e}();f.x509={pem:function(e){return"-----BEGIN CERTIFICATE-----\n"+f.formatBase64(i.Convert.ToBase64(e))+"\n-----END CERTIFICATE-----"},der:function(e){return f.formatHex(i.Convert.ToHex(e))}};f.csr={pem:function(e){return"-----BEGIN CERTIFICATE REQUEST-----\n"+f.formatBase64(i.Convert.ToBase64(e))+"\n-----END CERTIFICATE REQUEST-----"},der:function(e){return f.formatHex(i.Convert.ToHex(e))}};
/**
             * @license
             * Copyright (c) Peculiar Ventures, LLC.
             *
             * This source code is licensed under the BSD 3-Clause license found in the
             * LICENSE file in the root directory of this source tree.
             */function p(e,r,t,o){if(r===void 0){r="application/octet-stream"}var i=new Blob([e],{type:r});if(navigator.msSaveBlob){navigator.msSaveBlob(i,t+"."+o);return new Promise((function(e){return setTimeout(e,100)}))}var n=window.URL.createObjectURL(i);var l=document.createElement("a");var c=document.createElement("iframe");l.style.display="none";c.style.display="none";c.name=n;document.body.appendChild(c);l.href=n;l.target=n;l.download=t+"."+o;document.body.appendChild(l);l.dispatchEvent(new MouseEvent("click"));document.body.removeChild(l);return new Promise((function(e){return setTimeout((function(){document.body.removeChild(c);e()}),100)}))}
/**
             * @license
             * Copyright (c) Peculiar Ventures, LLC.
             *
             * This source code is licensed under the BSD 3-Clause license found in the
             * LICENSE file in the root directory of this source tree.
             */var u=function(){function e(){}return e}();u.x509={asPEM:function(e,r){p(i.Convert.FromString(f.x509.pem(e)),"application/pkix-cert",r,"cer")},asDER:function(e,r){p(i.Convert.FromString(f.x509.der(e)),"application/pkix-cert",r,"cer")}};u.csr={asPEM:function(e,r){p(i.Convert.FromString(f.csr.pem(e)),"application/pkcs10",r,"csr")},asDER:function(e,r){p(i.Convert.FromString(f.csr.der(e)),"application/pkcs10",r,"csr")}};var m=":host{-webkit-box-sizing:border-box;box-sizing:border-box}:host *,:host *:before,:host *:after{-webkit-box-sizing:inherit;box-sizing:inherit}peculiar-fortify-enrollment-resolved{display:block;height:100%;width:100%}peculiar-fortify-enrollment-resolved .textarea{border-radius:3px;height:100%;width:100%;overflow:auto;resize:none;margin:0;padding:16px 20px;display:block;font-family:monospace;font-size:11px;font-size:var(--pv-font-size-c1);border-color:#e1e4e6;border-color:rgba(var(--pv-color-grey_3-rgb), 1);color:#6d7d87;color:rgba(var(--pv-color-grey_5-rgb), 1)}";var y=e("peculiar_fortify_enrollment_resolved",function(){function e(e){var t=this;r(this,e);this.type="csr";this.handleDownload=function(){if(t.type==="csr"){u.csr.asPEM(t.der,t.name)}else{u.x509.asPEM(t.der,t.name)}}}e.prototype.render=function(){var e;var r;if(this.type==="csr"){e=n("enrollment.success.csr.title");r=f.csr.pem(this.der)}else{e=n("enrollment.success.certificate.title");r=f.x509.pem(this.der)}return t(o,null,t("peculiar-fortify-layout",{type:"dialog",titleValue:e,slotDialogContent:t("textarea",{class:{textarea:true}},r)},t("div",null),t("div",null,t("peculiar-fortify-button",{onClick:this.ponClose},n("actions.close")),t("peculiar-fortify-button",{bgType:"fill",color:"secondary",colorText:"light",onClick:this.handleDownload},"Download PEM"))))};return e}());y.style=m}}}));