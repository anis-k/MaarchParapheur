var __awaiter=this&&this.__awaiter||function(e,t,i,r){function n(e){return e instanceof i?e:new i((function(t){t(e)}))}return new(i||(i=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(t){o(t)}}function c(e){try{s(r["throw"](e))}catch(t){o(t)}}function s(e){e.done?i(e.value):n(e.value).then(a,c)}s((r=r.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var i={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,n,o,a;return a={next:c(0),throw:c(1),return:c(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function c(e){return function(t){return s([e,t])}}function s(a){if(r)throw new TypeError("Generator is already executing.");while(i)try{if(r=1,n&&(o=a[0]&2?n["return"]:a[0]?n["throw"]||((o=n["return"])&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;if(n=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:i.label++;return{value:a[1],done:false};case 5:i.label++;n=a[1];a=[0];continue;case 7:a=i.ops.pop();i.trys.pop();continue;default:if(!(o=i.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){i=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(a[0]===6&&i.label<o[1]){i.label=o[1];o=a;break}if(o&&i.label<o[2]){i.label=o[2];i.ops.push(a);break}if(o[2])i.ops.pop();i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c];n=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};System.register(["./p-f0dd3588.system.js","./p-9a06c37e.system.js","./p-50e9a8af.system.js","./p-2e76ca07.system.js","./p-91a27287.system.js","./p-1c4a40aa.system.js","./p-8a88593b.system.js","./p-73b28362.system.js","./p-f3e87f9a.system.js"],(function(e){"use strict";var t,i,r,n,o,a,c,s,l,u,f;return{setters:[function(e){t=e.r;i=e.h;r=e.H},function(e){n=e.i;o=e.a;a=e.b;c=e.c},function(e){s=e.h},function(){},function(){},function(){},function(e){l=e.X},function(e){u=e.C},function(e){f=e.X}],execute:function(){
/**
             * @license
             * Copyright (c) Peculiar Ventures, LLC.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */
function p(e){return new Promise((function(t,i){var r=new FileReader;r.onload=function(){return t({value:r.result,fileName:e.name,fileSize:e.size,sourceMime:e.type})};r.onerror=function(){return i(r.error)};r.readAsBinaryString(e)}))}var d=":host{-webkit-box-sizing:border-box;box-sizing:border-box}:host *,:host *:before,:host *:after{-webkit-box-sizing:inherit;box-sizing:inherit}:host{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-ms-touch-action:manipulation;touch-action:manipulation;-webkit-user-drag:none;-ms-content-zooming:none;word-wrap:break-word;-webkit-text-size-adjust:none;-moz-text-size-adjust:none;-ms-text-size-adjust:none;text-size-adjust:none;display:block;width:100%;font-size:0}.textarea{min-height:300px;width:100%;border-radius:3px;border-width:1px;border-style:solid;padding:14px;font-family:monospace;resize:vertical;background-color:white;background-color:rgba(var(--pv-color-light-rgb), 1);border-color:#d1d5d9;border-color:rgba(var(--pv-color-grey_3-rgb), 1);color:#2a3134;color:rgba(var(--pv-color-dark-rgb), 1);letter-spacing:0.03em;letter-spacing:var(--pv-letter-spacing-normal);font-size:14px;font-size:var(--pv-font-size-h7)}.controls{margin-top:10px}.button{position:relative}.button:not(:first-child){margin-left:10px}.viewer{margin-top:64px}.input_file{opacity:0;width:100%;height:100%;top:0;left:0;display:block;position:absolute}";var h=e("peculiar_certificate_decoder",function(){function e(e){var i=this;t(this,e);this.onClickDecode=function(){var e=i.inputPaste.value;if(e){i.decode(e)}};this.onClickExample=function(){i.decode(i.certificateExample)};this.onClickClear=function(){i.clearValue()};this.onChangeInputFile=function(e){return __awaiter(i,void 0,void 0,(function(){var t,i;return __generator(this,(function(r){switch(r.label){case 0:t=e.target;if(!t.files)return[3,2];return[4,p(t.files[0])];case 1:i=r.sent();if(typeof i.value==="string"){this.decode(i.value)}t.value="";r.label=2;case 2:return[2]}}))}))};this.onDropFile=function(e){return __awaiter(i,void 0,void 0,(function(){var t,i;return __generator(this,(function(r){switch(r.label){case 0:e.stopPropagation();e.preventDefault();t=e.dataTransfer;if(!t.files)return[3,2];return[4,p(t.files[0])];case 1:i=r.sent();if(typeof i.value==="string"){this.decode(i.value)}r.label=2;case 2:return[2]}}))}))}}e.prototype.componentDidLoad=function(){var e=this;var t=s.parseHash(window.location.search);if(t.cert){setTimeout((function(){return e.decode(t.cert)}),100)}};e.prototype.clearValue=function(){this.inputPaste.value="";this.certificateDecoded=null;s.replace({search:""})};e.prototype.setValue=function(e){this.certificateDecoded=e;this.inputPaste.value=e.exportAsPemFormatted();s.replace({search:s.queryStringify({cert:e.exportAsBase64()})})};e.prototype.decode=function(e){var t=n(e);var i=o(e);var r=a(e);var s=c(e);var p;var d;if(t&&!(i||s||r)){this.clearValue();alert("Unsupported file type. Please try to use Certificate/AttributeCertificate/CertificateRequest.");return}try{if(i){p=new l(e)}if(s){p=new f(e)}if(r){p=new u(e)}}catch(h){d=h}if(!p){try{p=new l(e)}catch(h){d=h}}if(!p){try{p=new f(e)}catch(h){d=h}}if(!p){try{p=new u(e)}catch(h){d=h}}if(!p){this.clearValue();console.log(d);alert("Error decoding file. Please try to use Certificate/AttributeCertificate/CertificateRequest.")}else{this.setValue(p)}};e.prototype.render=function(){var e=this;return i(r,null,i("textarea",{placeholder:"Certificate DER or PEM",class:"textarea",ref:function(t){e.inputPaste=t},onDrop:this.onDropFile}),i("div",{class:"controls"},i("peculiar-button",{fill:"fill",class:"button",onClick:this.onClickDecode},"Decode"),i("peculiar-button",{class:"button"},"Choose file",i("input",{type:"file",class:"input_file",accept:"application/pkix-cert,application/x-x509-ca-cert,application/x-x509-user-cert,application/pkcs10,.csr,.req",onChange:this.onChangeInputFile,value:""})),i("peculiar-button",{class:"button",onClick:this.onClickClear},"Clear"),this.certificateExample&&i("peculiar-button",{class:"button",onClick:this.onClickExample},"Example")),this.certificateDecoded instanceof l&&i("peculiar-certificate-viewer",{certificate:this.certificateDecoded,class:"viewer",download:true}),this.certificateDecoded instanceof f&&i("peculiar-attribute-certificate-viewer",{certificate:this.certificateDecoded,class:"viewer",download:true}),this.certificateDecoded instanceof u&&i("peculiar-csr-viewer",{certificate:this.certificateDecoded,class:"viewer",download:true}))};return e}());h.style=d}}}));