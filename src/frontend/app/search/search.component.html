<ion-header [translucent]="true">
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-button></ion-menu-button>
        </ion-buttons>
        <ion-title class="ion-text-center">{{'lang.search' | translate}}</ion-title>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-list>
        <ion-virtual-scroll [items]="ressources" approxItemHeight="110px">
            <ion-item *virtualItem="let element">
                <ion-label>
                    <ion-toolbar color="light">
                        <ion-title size="small">
                            <p style="display: flex;align-items: center;white-space: pre;overflow: auto;">
                                <ng-container *ngFor="let itemW of element.workflow;let i=index;">
                                    <ion-icon *ngIf="i>0" name="chevron-forward-outline"></ion-icon>
                                    <span class="workflow-item success" [class.success]="itemW.processDate!==null"
                                        [class.typist-interrupt]="itemW.status==='REF'"
                                        [class.interrupt]="itemW.processDate===null && itemW.status==='END'"
                                        [class.current]="itemW.current"
                                        [class.no-visa]="itemW.processDate===null && itemW.status===null && !itemW.current">Bernard
                                        Blier&nbsp;
                                        <ion-icon *ngIf="itemW.processDate!==null && itemW.status!=='REF'"
                                            name="thumbs-up-outline"></ion-icon>
                                        <ion-icon *ngIf="itemW.processDate!==null && itemW.status==='REF'"
                                            name="thumbs-down-outline"></ion-icon>
                                        <ion-badge
                                            *ngIf="itemW.processDate===null && (itemW.status===null || itemW.status==='END')"
                                            color="medium">{{itemW.mode}}</ion-badge>
                                    </span>
                                </ng-container>
                            </p>
                        </ion-title>
                    </ion-toolbar>
                    <ion-item-sliding #slidingItem>
                        <ion-item lines="none">
                            <ion-icon *ngIf="element.mode == 'sign'" color="primary" slot="start" name="pencil-outline">
                            </ion-icon>
                            <ion-icon *ngIf="element.mode == 'visa'" color="primary" slot="start"
                                name="checkmark-done-outline">
                            </ion-icon>
                            <ion-icon *ngIf="element.mode == 'note'" color="primary" slot="start"
                                name="chatbubble-ellipses-outline">
                            </ion-icon>
                            <ion-label>
                                <p>{{element.reference}}</p>
                                <h2>{{element.title}}</h2>
                            </ion-label>
                            <ion-buttons slot="end">
                                <ion-button slot="icon-only" fill="clear" shape="round"
                                    (click)="slidingItem.open('end')">
                                    <ion-icon color="medium" slot="icon-only" name="arrow-back-outline"></ion-icon>
                                </ion-button>
                            </ion-buttons>

                        </ion-item>
                        <ion-item-options>
                            <ion-item-option color="primary">
                                <ion-icon slot="bottom" ios="ellipsis-horizontal" md="ellipsis-vertical"></ion-icon>
                                Télécharger Preuve
                            </ion-item-option>
                            <ion-item-option color="primary">
                                <ion-icon slot="bottom" name="archive"></ion-icon>
                                Actions
                            </ion-item-option>
                        </ion-item-options>
                    </ion-item-sliding>

                </ion-label>
            </ion-item>
        </ion-virtual-scroll>
    </ion-list>
</ion-content>
<ion-footer class="ion-no-border">
    <div class="ion-text-center" style="background: white;">
        <ion-button color="primary" shape="round" size="large" fill="outline">
            <ion-label style="font-size: 13px;">{{'lang.search' | translate}}</ion-label>
        </ion-button>
    </div>
</ion-footer>
<ng-template #rightContent>
    <ion-header [translucent]="true">
        <ion-toolbar color="primary">
            <ion-buttons slot="start">
                <ion-back-button></ion-back-button>
            </ion-buttons>
            <ion-title class="ion-text-center">Filtre(s)</ion-title>
        </ion-toolbar>
    </ion-header>
    <ion-content>
        <ion-list>
            <ion-item>
                <ion-label position="floating" color="secondary">Référence</ion-label>
                <ion-input></ion-input>
            </ion-item>
        </ion-list>
        <ion-list>
            <ion-list-header>
                <ion-label color="secondary">État du circuit</ion-label>
            </ion-list-header>
            <ion-item *ngFor="let val of worfklowState">
                <ion-label>{{val}}</ion-label>
                <ion-checkbox slot="end"></ion-checkbox>
            </ion-item>
        </ion-list>
    </ion-content>
</ng-template>